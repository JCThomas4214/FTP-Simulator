@using Stardome.DomainObjects
@Model Stardome.Models.MainModel
@if (Model.RoleId != (int) Enums.Roles.Admin)
{
    Response.Redirect("~/Admin/Content");
}
<script type="text/javascript">
    $(document).ready(function () {

        $('#UserTableContainer').jtable({
            title: 'User List',
            paging: true, //Enable paging
            pageSize: 20, //Set page size (default: 20)
            sorting: true, //Enable sorting
            defaultSorting: 'Name ASC', //Set default sorting
            actions: {
                listAction: '@Url.Action("GetUsers", "Admin")',
                deleteAction: '@Url.Action("DeleteUser", "Admin")',
                updateAction: '@Url.Action("UpdateUser", "Admin")',
                createAction: '@Url.Action("Register", "Account")',
            },
            fields: {
                Id: {
                    key: true,
                    create: false,
                    edit: false,
                    list: false
                },
                FirstName: {
                    title: 'First Name',
                    width: '23%'
                },
                LastName: {
                    title: 'Last Name',
                    width: '23%'
                },
                EmailAddress: {
                    title: 'Email address',
                    list: true
                },
                Username: {
                    title: 'Username',
                    list: true
                },
                RoleId: {
                    title: 'Role',
                    list: true,
                    options: function () {
                        return '@Url.Action("GetRoles", "Admin")';
                    }
                }
            }
        });

        $('#UserTableContainer').jtable('load');
    });

</script>

@if (Request.IsAuthenticated == false)
{
    Response.Redirect("~/Account/Login");

}

@section featured {
    <section class="featured">
        <div class="content-wrapper">
            <hgroup class="title">
                <h1>@ViewBag.Message</h1>
            </hgroup>
        </div>
    </section>
}
<div id="UserTableContainer"></div>