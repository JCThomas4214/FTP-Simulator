@using Stardome.DomainObjects
@using MvcCheckBoxList.Model 

﻿@model Stardome.Models.ContentModel
@Scripts.Render("~/Scripts/jsTree")
@Styles.Render("~/Content/jsTree")
@if (Request.IsAuthenticated == false) {
     Response.Redirect("~/Account/Login");

}
@if (Model.RoleId != (int)Enums.Roles.Admin)
{
    Response.Redirect("~/Account/Login");
}
@section featured {
    <section class="featured">
        <div class="content-wrapper">
            <hgroup class="title">
                <h1>@ViewBag.Message</h1>
            </hgroup>
        </div>
    </section>
}
<html>
<head>
    <meta charset="utf-8">
    <title>Content</title>         
    <script type="text/javascript">

    var htmlDDlist = new Array;
    var subList = new Array;
    subList[0] = ['@System.Web.HttpUtility.JavaScriptStringEncode(Server.MapPath("~/Stardome"))' + '\\ABC\\', "ABC"];
    subList[1] = ['@System.Web.HttpUtility.JavaScriptStringEncode(Server.MapPath("~/Stardome"))' + '\\CNN\\', "CNN"];
    subList[2] = ['@System.Web.HttpUtility.JavaScriptStringEncode(Server.MapPath("~/Stardome"))' + '\\FOX\\', "FOX"];

    root = '@System.Web.HttpUtility.JavaScriptStringEncode(Server.MapPath("~/Stardome"))' + '\\';

    $(document).ready(function () {
        var Role = '@Model.RoleId';
        initializer(Role);
    });
    </script>



</head>
    <body>

        <div style="float:left; height:500px; width:200px">
            @Html.CheckBoxListFor(m => m.PostedUsers.UserIds, m => m.UserList, m => m.Id, m => m.Username,
                                                                     m => m.SelectedUsers, Position.Vertical, x => new { @class = "styled_checkbox" })
        </div>
        <div id="MainTree"></div>
    </body>
</html>  