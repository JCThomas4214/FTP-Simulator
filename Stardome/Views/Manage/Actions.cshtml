@using Stardome.DomainObjects
﻿@model Stardome.Models.ContentModel
@Scripts.Render("~/Scripts/jsTree")
@Scripts.Render("~/Scripts/bootstrap")
@Styles.Render("~/Content/jsTree")
@Styles.Render("~/Content/bootstrap")
@if (Request.IsAuthenticated == false)
{
    Response.Redirect("~/Account/Login");

}
@if (Model.RoleId != (int)Enums.Roles.Admin && Model.RoleId != (int)Enums.Roles.Producer && Model.RoleId != (int)Enums.Roles.User)
{
    Response.Redirect("~/Account/Login");
}
@section featured {
    <section class="featured">
        <div class="content-wrapper">
            <hgroup class="title">
                <h1>@ViewBag.Message</h1>
            </hgroup>
        </div>
    </section>
}
<html>
<head>
    <meta charset="utf-8">
    <title>Content</title>
    <script type="text/javascript">       

        var htmlDDlist = new Array;
        var subList = new Array;
        subList[0] = ["D:\\UF ENG\\CEN3031\\Stardome\\StardomeProject\\Stardome\\Stardome\\ABC\\", "ABC"];
        subList[1] = ["D:\\UF ENG\\CEN3031\\Stardome\\StardomeProject\\Stardome\\Stardome\\CNN\\", "CNN"];
        subList[2] = ["D:\\UF ENG\\CEN3031\\Stardome\\StardomeProject\\Stardome\\Stardome\\FOX\\", "FOX"];

        root ="D:\\UF ENG\\CEN3031\\Stardome\\StardomeProject\\Stardome\\Stardome\\"; //subList[0][0];@*'@Model.RootPath';*@        
    </script>

</head>
<body>
    
    <div>
        <table id="labels">
            <tr>               
                <td><div id="dropD"></div></td>
                <td>Files For Download</td>
            </tr>
        </table>
    </div>
    <div class="outer">        
        <div class="innerwrap">
            <div id="MainTree"></div>
            <div id="selectedFileList"></div>
        </div>
    </div>

    <div id="dialog-confirm"></div>

    @if (Model.RoleId == (int)Enums.Roles.Admin || Model.RoleId == (int)Enums.Roles.Producer)
    {
        using (Html.BeginForm("Actions", "Manage", new {lastSelected = Model.RootPath}, FormMethod.Post, new { enctype = "multipart/form-data" }))
        {   
            <label id="lastDir"></label>
            //<input type="hidden" name="lastSelected" id="lastSelected" value=" " />
            <label for="file">Upload File</label>
            <input type="file" name="files" multiple="multiple" />
            <br>
            <br>
            <input type="submit" value="Upload Files" />
            <br>
            @ViewBag.Message<br>
            foreach (var element in Model.List)
    {
        <p>@Html.DisplayFor(m => element)</p>
    }
        }
    }
   
</body>
</html>

